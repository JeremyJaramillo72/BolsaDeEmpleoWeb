<div class="section-card">
  <div class="section-header">
    <h3>
      <span class="section-icon">üåê</span>
      Idiomas
    </h3>
  </div>

  <div class="form-grid">
    <div class="form-group">
      <label>Seleccionar Idioma</label>
      <select [(ngModel)]="nuevoIdioma.id_idioma" class="form-control">
        <option [ngValue]="null" disabled>Seleccionar...</option>
        <option *ngFor="let idm of idiomasDisponibles" [value]="idm.idIdioma">
          {{ idm.nombreIdioma }}
        </option>
      </select>
    </div>

    <div class="form-group">
      <label>Nivel de Dominio</label>
      <select [(ngModel)]="nuevoIdioma.nivel" class="form-control">
        <option [ngValue]="null" disabled>Seleccionar...</option>
        <option *ngFor="let n of niveles" [value]="n">{{ n }}</option>
      </select>
    </div>
  </div>

  <div class="actions-row">
    <button type="button" class="btn-attach" (click)="fileInput.click()">
      <span class="material-icons">attach_file</span>
      {{ nuevoIdioma.nombreArchivo || 'Adjuntar Certificado' }}
    </button>
    <input #fileInput type="file" (change)="onFileSelected($event)" hidden accept=".pdf,.jpg,.png">

    <button (click)="agregarIdioma()" class="btn-add-list" type="button">
      <span class="material-icons">add</span>
      Agregar a la Lista
    </button>
  </div>

  <hr class="section-divider">

  <div class="docs-title">
    <span class="material-icons">language</span>
    Idiomas Registrados
  </div>

  <div *ngFor="let item of perfil.idiomas; let i = index" class="doc-card">
    <div class="doc-info">
      <p class="doc-name">{{ item.nombre_idioma }}</p>
      <p class="doc-detail"><strong>Nivel:</strong> {{ item.nivel }}</p>
      <p class="doc-detail" *ngIf="item.nombreArchivo">
        <strong>Certificado:</strong> {{ item.nombreArchivo }}
      </p>
    </div>
    <div class="doc-actions">
      <button class="btn-delete" (click)="eliminarIdioma(i)" type="button" title="Eliminar">
        <span class="material-icons">delete</span>
      </button>
    </div>
  </div>
</div>
